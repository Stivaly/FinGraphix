{% extends 'fingraphixapp/base.html' %}
{% load static %}
{% block title %}Resetear Contraseña | FinGraphix{% endblock %}

{% block content %}
    {% if validlink %}
    <div class="container d-flex justify-content-center"> 
        <div class="shadow p-3 bg-white rounded w-50" style="margin-top: 150px;">
            <p>Por favor, introduzca (y confirme) su nueva contraseña.</p>
            <form action="" method="post">
            {% csrf_token %}
                <table>
                    <tr>
                        <td>{{ form.new_password1.errors }}
                            <label for="id_new_password1">Nueva contraseña:</label></td>
                        <td>{{ form.new_password1 }}</td>
                        {% if form.new_password1.errors %}
                            <div class="text-danger">{{ form.email.errors }}</div>
                        {% endif %}
                    </tr>
                    <tr>
                        <td>{{ form.new_password2.errors }}
                            <label for="id_new_password2">Confirma la contraseña:</label></td>
                        <td>{{ form.new_password2 }}</td>
                        {% if form.new_password2.errors %}
                            <div class="text-danger">{{ form.email.errors }}</div>
                        {% endif %}
                    </tr>
                    <tr>
                        <td></td>
                        <td><input type="submit" class="btn" value="Cambiar mi contraseña"></td>
                    </tr>
                </table>
            </form>
        </div>
    </div>
    {% else %}
        <h1>Error al restablecer la contraseña</h1>
        <p>El enlace para restablecer la contraseña no es válido, posiblemente porque ya se ha utilizado. Solicite un nuevo restablecimiento de contraseña.</p>
    {% endif %}
{% endblock %}